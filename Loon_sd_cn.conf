# 2020.10.28 19.00

# Loonå…¨å±€é…ç½® by Tartarus, æ ¹æ® MazeTsz é…ç½®æ”¹ç¼–ã€‚
# ä½œè€…GitHubï¼š https://github.com/Tartarus2014
# è„šæœ¬åº“GitHubï¼š https://github.com/Tartarus2014/Loon-Script
# Loonæ•™ç¨‹é“¾æ¥ï¼šhttps://github.com/chiupam/tutorial/blob/master/Loon/Plus/README.md
# Loonè§„åˆ™GitHubï¼šhttps://github.com/blackmatrix7/ios_rule_script/tree/master/rule/Loon

# å¯¼å…¥é…ç½®å,æ·»åŠ è®¢é˜…,ä¹‹åæ›´æ–°è®¢é˜…è§„åˆ™ã€‚

# ç‚¹å‡»é…ç½®-è¯ä¹¦ç®¡ç†-ç”Ÿæˆæ–°çš„CAè¯ä¹¦ï¼Œä¹‹åè¿›å…¥ã€Œè®¾ç½®ã€>ã€Œé€šç”¨ã€>ã€Œæè¿°æ–‡ä»¶ã€, å®‰è£…Loonçš„è¯ä¹¦, å¹¶åœ¨ã€Œè®¾ç½®ã€>ã€Œé€šç”¨ã€>ã€Œå…³äºæœ¬æœºã€>ã€Œè¯ä¹¦ä¿¡ä»»è®¾ç½®ã€å¼€å¯å¯¹Loonè¯ä¹¦çš„ä¿¡ä»»ã€‚

# å¼€å¯å¹¶æ›´æ–°è„šæœ¬å’Œæ’ä»¶ã€‚

# è®¢é˜…è§£æå™¨ä½¿ç”¨æ–¹æ³•ï¼š
# https://sub-store.vercel.app/  æ·»åŠ åˆ°æ¡Œé¢ï¼Œä¹‹åå°±å¯ä»¥æ·»åŠ è®¢é˜…äº†ã€‚æ³¨æ„ä¿®æ”¹è®¢é˜…ä¹‹åéœ€è¦æ‰‹åŠ¨ä¿å­˜ã€‚è®¢é˜…ç•Œé¢å•å‡»å¯ä»¥é¢„è§ˆèŠ‚ç‚¹ï¼Œå³ä¾§èœå•å¤åˆ¶é“¾æ¥åˆ°APPå³å¯ä½¿ç”¨ã€‚

# å…¨åˆ†ç»„
# å»å¹¿å‘Šæ’ä»¶, VIPè„šæœ¬, ç­¾åˆ°, cookie,
# å¸¦å›½é™…tiktokè§£é” åªèƒ½å¯åŠ¨ä¸€ä¸ªåœ°åŒºè§£é” åªä¿è¯UKèƒ½ å…¶ä»–åœ°åŒºä¸ä¿è¯
# äº‘éŸ³ä¹è§£é”è§„åˆ™, èŠ‚ç‚¹è¿œç¨‹è®¢é˜…, é»˜è®¤ç›´è¿, å¯åœ¨ç­–ç•¥ç»„æ‰‹åŠ¨å¼€å¯ã€‚
# =è¯·ä½¿ç”¨ Safari æµè§ˆå™¨è®¿é—®ç½‘ç«™ã€‚é¦–å…ˆä¸‹è½½ è¯ä¹¦, è¿›å…¥ã€Œè®¾ç½®ã€>ã€Œé€šç”¨ã€>ã€Œæè¿°æ–‡ä»¶ã€, å®‰è£…ã€ŒUnblockNeteaseMusic Root CAã€, å¹¶åœ¨ã€Œè®¾ç½®ã€>ã€Œé€šç”¨ã€>ã€Œå…³äºæœ¬æœºã€>ã€Œè¯ä¹¦ä¿¡ä»»è®¾ç½®ã€å¼€å¯å¯¹ã€ŒUnblockNeteaseMusic Root CAã€çš„ä¿¡ä»»ã€‚
# =è¯ä¹¦é“¾æ¥ï¼šhttps://cdn.jsdelivr.net/gh/nondanee/UnblockNeteaseMusic@master/ca.crt
# å›½å†…åª’ä½“ç­–ç•¥ä¸ºè§£é”Bç«™åœ°åŒº, é»˜è®¤ç›´è¿, åˆ‡æ¢ åª’ä½“è§£é” å³ä¸ºè§£é”æ¨¡å¼ã€‚
# å¢åŠ åŠ¨ç”»ç–¯åˆ†æµ, é»˜è®¤èµ°å°æ¹¾ã€‚
# å¢åŠ äº†BOXJSçš„è®¢é˜…ã€‚

# ç­–ç•¥ç»„
# èŠ‚ç‚¹é€‰é¡¹
# selectæ¨¡å¼,æ‰‹åŠ¨é€‰æ‹©æ¨¡å¼
# url-testæ¨¡å¼, ç»™æä¾›çš„urlå‘å‡ºhttp headerè¯·æ±‚, æ ¹æ®è¿”å›ç»“æœ, é€‰æ‹©æµ‹é€Ÿæœ€å¿«çš„èŠ‚ç‚¹, é»˜è®¤é—´éš”600s, æµ‹é€Ÿè¶…æ—¶æ—¶é—´5s, ä¸ºäº†é¿å…èµ„æºæµªè´¹, å»ºè®®èŠ‚ç‚¹æ•°ä¸è¦è¿‡å¤š, åªæ”¯æŒå•ä¸ªèŠ‚ç‚¹å’Œè¿œç«¯èŠ‚ç‚¹, å…¶ä»–ä¼šè¢«å¿½ç•¥
# fallbackæ¨¡å¼, å’Œurl-testç±»ä¼¼, ä¸åŒçš„æ˜¯ä¼šæ ¹æ®é¡ºåºè¿”å›ç¬¬ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹, ä¸ºäº†é¿å…èµ„æºæµªè´¹, å»ºè®®èŠ‚ç‚¹æ•°ä¸è¦è¿‡å¤š, åªæ”¯æŒå•ä¸ªèŠ‚ç‚¹å’Œè¿œç«¯èŠ‚ç‚¹, å…¶ä»–ä¼šè¢«å¿½ç•¥
# Load-Balance:è´Ÿè½½å‡è¡¡, æ ¹æ®é€‰æ‹©çš„è´Ÿè½½å‡è¡¡ç®—æ³•é€‰æ‹©å­ç­–ç•¥, ç›®å‰ä¸‰ç§ç®—æ³•:
#   -Random:éšæœºé€‰æ‹©å­ç­–ç•¥
#   -PCC:åŸºäºRandom, ä¸åŒäºRandom, PCCä¼šè®©ç›¸åŒä¸»æœºåçš„è¯·æ±‚é”å®šåŒä¸€èŠ‚ç‚¹
#   -Round-Robin:è½®è¯¢é€‰æ‹©å­ç­–ç•¥
#  
# ç”±äºè´Ÿè½½å‡è¡¡ç­–ç•¥, å¹¶ä¸æ˜¯æ‰€æœ‰æœºåœºéƒ½èƒ½é€‚ç”¨, æ‰€ä»¥è¯·è‡ªå·±æ‰‹åŠ¨è®¾ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„ï¼š
#  ï¼ˆPS.è¯·é€‰æ‹©åŒåœ°åŒºèŠ‚ç‚¹, å¹¶ä¸”éµä»å„æœºåœºçš„æœ€å¤§IPé™åˆ¶æ•°, è¯¥æœºåœºèŠ‚ç‚¹é€‰æ‹©æ•°é‡åº”å°äºé™åˆ¶æ•°ï¼‰
# ğŸ”“ç½‘æ˜“äº‘éŸ³ä¹ç°è‰²æ­Œæ›²,éœ€è¦èŠ‚ç‚¹æ”¯æŒè§£é”

[General]
ipv6 = false
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local,e.crashlynatics.com
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.18.0.0/15,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32
dns-server = system,119.29.29.29,223.5.5.5
allow-udp-proxy = false
allow-wifi-access = false
wifi-access-http-port = 7222
wifi-access-socket5-port = 7221
proxy-test-url = http://www.gstatic.com/generate_204
test-timeout = 3

[Host]

[Proxy]
# æœ¬åœ°èŠ‚ç‚¹
# å†…ç½® DIRECTã€REJECT ç­–ç•¥
# èŠ‚ç‚¹åç§° = åè®®, æœåŠ¡å™¨åœ°å€, æœåŠ¡å™¨ç«¯å£, åŠ å¯†åè®®, å¯†ç , 
# vmess
# èŠ‚ç‚¹åç§° = åè®®, æœåŠ¡å™¨åœ°å€, ç«¯å£, åŠ å¯†æ–¹å¼, UUID, ä¼ è¾“æ–¹å¼:(tcp/ws),pathï¼šwebsocketæ¡æ‰‹headerä¸­çš„path, hostï¼šwebsocketæ¡æ‰‹headerä¸­çš„path, over-tls:æ˜¯å¦tls, tls-nameï¼šè¿œç«¯wæœåŠ¡å™¨åŸŸå, skip-cert-verifyï¼šæ˜¯å¦è·³è¿‡è¯ä¹¦æ ¡éªŒï¼ˆé»˜è®¤å¦ï¼‰
#5 = vmess, 1.2.3.4, 10086, aes-128-gcm,â€uuidâ€œ,transport:ws,path:/,host:icloud.com,over-tls:true,tls-name:youtTlsServerName.com,skip-cert-verify:false

[Remote Proxy]
ç½‘æ˜“è§£é” = https://git.io/JfNq3

[Proxy Group]
FINAL = select,èŠ‚ç‚¹é€‰æ‹©,DIRECT

# ç­–ç•¥ç»„
èŠ‚ç‚¹é€‰æ‹© = select,é¦™æ¸¯èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹
è‹¹æœæœåŠ¡ = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©
ç½‘æ˜“éŸ³ä¹ = select,DIRECT,è§£é”èŠ‚ç‚¹
å¥ˆé£è§†é¢‘ = select,èŠ‚ç‚¹é€‰æ‹©,ç‹®åŸèŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹ 
æ²¹ç®¡è§†é¢‘ = select,èŠ‚ç‚¹é€‰æ‹©,é¦™æ¸¯èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹ 
å·´å“ˆå§†ç‰¹ = select,èŠ‚ç‚¹é€‰æ‹©,å°æ¹¾èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹ 
ç”µæŠ¥æ¶ˆæ¯ = select,èŠ‚ç‚¹é€‰æ‹©,é¦™æ¸¯èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹ 
å›½å¤–åª’ä½“ = select,èŠ‚ç‚¹é€‰æ‹©,ç‹®åŸèŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹ 
æ¸¯å°ç•ªå‰§ = select,DIRECT,å°æ¹¾èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,

é¦™æ¸¯èŠ‚ç‚¹ = select,é¦™æ¸¯
å°æ¹¾èŠ‚ç‚¹ = select,å°æ¹¾
ç‹®åŸèŠ‚ç‚¹ = select,æ–°åŠ å¡
éŸ©å›½èŠ‚ç‚¹ = select,éŸ©å›½
æ—¥æœ¬èŠ‚ç‚¹ = select,æ—¥æœ¬
ç¾å›½èŠ‚ç‚¹ = select,ç¾å›½
è§£é”èŠ‚ç‚¹ = select,ç½‘æ˜“è§£é”

# SSID
# åˆ«å = ssid, é»˜è®¤ = ç­–ç•¥,  èœ‚çª = ç­–ç•¥,  ssidåç§° = ç­–ç•¥
#SSID = ssid, default = PROXY, cellular = DIRECT, â€DivineEngineâ€œ = PROXY

[Remote Filter]
# ç­›é€‰è®¢é˜…èŠ‚ç‚¹, ç­›é€‰åçš„ç»“æœå¯åŠ å…¥åˆ°ç­–ç•¥ç»„ä¸­, ç›®å‰æ”¯æŒä¸‰ç§ç­›é€‰æ–¹å¼
# NodeSelect: ä½¿ç”¨åœ¨UIä¸Šé€‰æ‹©çš„èŠ‚ç‚¹ã€‚
# NameKeyword: æ ¹æ®æä¾›çš„å…³é”®è¯å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰, ä½¿ç”¨ç­›é€‰åçš„èŠ‚ç‚¹ã€‚
# NameRegex: æ ¹æ®æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰, ä½¿ç”¨ç­›é€‰åçš„èŠ‚ç‚¹ã€‚

æœºåœºèŠ‚ç‚¹ = NameRegex, FilterKey = "(.*)"
é¦™æ¸¯ = NameRegex, FilterKey = "(?i)(æ¸¯|HK|Hong)"
å°æ¹¾ = NameRegex, FilterKey = "(?i)(å°|TW|Tai)"
æ—¥æœ¬ = NameRegex, FilterKey = "(?i)(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan)"
éŸ©å›½ = NameRegex, FilterKey = "(?i)(KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)"
ç¾å›½ = NameRegex, FilterKey = "(?i)(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States)"
æ–°åŠ å¡ = NameRegex, FilterKey = "(?i)(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)"
ç½‘æ˜“è§£é” = NameRegex, FilterKey = "(?i)(|unblock|music|äº‘éŸ³ä¹)"

[Remote Rule]
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,REJECT, policy=REJECT, tag=å»å¹¿å‘Š,enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,REJECT, policy=REJECT, tag=å»å¹¿å‘Š,enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,REJECT, policy=REJECT, tag=å»å¹¿å‘Š,enabled=true

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Loon/TestFlight/TestFlight.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=Testflingt, enabled=true
https://raw.githubusercontent.com/lhie1/Rules/master/Surge/Surge%203/Provider/Apple.list, policy=è‹¹æœæœåŠ¡, tag=è‹¹æœæœåŠ¡, enabled=true

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Loon/YouTube/YouTube.list, policy=æ²¹ç®¡è§†é¢‘, tag=æ²¹ç®¡è§†é¢‘, enabled=true

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Loon/Netflix/Netflix.list, policy=å¥ˆé£è§†é¢‘, tag=å¥ˆé£è§†é¢‘, enabled=true

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Loon/Bahamut/Bahamut.list, policy=å·´å“ˆå§†ç‰¹, tag=å·´å“ˆå§†ç‰¹, enabled=true

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Loon/GlobalMedia/GlobalMedia.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å›½å¤–åª’ä½“, enabled=true

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Loon/Bilibili/Bilibili.list, policy=æ¸¯å°ç•ªå‰§, tag=å›½å†…åª’ä½“, enabled=true

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Loon/Telegram/Telegram.list, policy=ç”µæŠ¥æ¶ˆæ¯, tag=ç”µæŠ¥æ¶ˆæ¯, enabled=true

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Domain.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å…¨çƒè§„åˆ™, enabled=true

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Loon/China/China.list, policy=DIRECT, tag=å…¨çƒç›´è¿, enabled=true

[Rule]
DOMAIN, rsshub.app, èŠ‚ç‚¹é€‰æ‹©

GEOIP,CN,DIRECT
FINAL,FINAL

[URL Rewrite]
enable = false

[Remote Rewrite]

[Script]
enable = false

[Remote Script]
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Cookie.conf, tag=Cookie.è·å–å®Œä¸€å®šè¦å…³é—­, enabled=false
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Task.conf, tag=Task, enabled=false
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Script.conf, tag=Script, enabled=false

[Plugin]
https://raw.githubusercontent.com/Tartarus2014/For-own-use/master/Loon/Plugin/Host.plugin, tag=Host, enabled=false

https://raw.githubusercontent.com/Tartarus2014/For-own-use/master/Loon/Plugin/Block/Advertising.plugin, proxy=REJECT, tag=Advertising, enabled=false

https://raw.githubusercontent.com/Tartarus2014/For-own-use/master/Loon/Plugin/General.plugin, tag=General, enabled=false

https://gitee.com/chavyleung/scripts/raw/master/box/rewrite/boxjs.rewrite.loon.tf.plugin, tag=Boxjs, enabled=false

https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/config/Loon.plugin, tag=è®¢é˜…è§£æå™¨, enabled=false

https://raw.githubusercontent.com/Tartarus2014/For-own-use/master/Loon/Plugin/Unlock/TikTokJP.plugin, tag=TikTok JP, enabled=false

https://raw.githubusercontent.com/Tartarus2014/For-own-use/master/Loon/Plugin/Block/YouTubeAdsTest.plugin, proxy=REJECT, tag= YouTube, enabled=false

https://raw.githubusercontent.com/Tartarus2014/For-own-use/master/Loon/Plugin/Netease%20Music.plugin, proxy=ç½‘æ˜“éŸ³ä¹, tag=ç½‘æ˜“éŸ³ä¹, enabled=false

[MITM]
enable = false
skip-server-cert-verify = true
